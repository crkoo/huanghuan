
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
    <title>BLB体育 </title>
    <link href="/Content/bootstrap.min.css" rel="stylesheet" />
    <!-- HTML5 Shim 和 Respond.js 用于让 IE8 支持 HTML5元素和媒体查询 -->
    <!-- 注意： 如果通过 file://  引入 Respond.js 文件，则该文件无法起效果 -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="/Scripts/jquery-1.9.1.min.js"></script>
    <style>
        a:link { text-decoration: none; }

        .header-logo { padding: 3px; }

        .width30 { width: 30px; }

        .register { padding-top: 12px; }

        .register a { font-weight: bold; padding-right: 8px; padding-top: 5px; }
        .headerMain { padding-top: 3px; padding-right: 10px; min-width:50%;}
        .headerdiv a { font-weight: bold; }
        .footercontent { padding-top: 12px; padding-bottom: 10px; font-weight: bold; background: #92B3DD; }

        .fontsize { font-size: 25px; padding: 2px 2px 2px 10px; }
        .linecentermodel { margin: auto; position: absolute; top: 0; left: 0; bottom: 0; right: 0; }
    </style>
</head>
<body>
<div id="header-top" class="bg-info header-logo">
    <div class="pull-left">
        <a href="/">
            <img width="100" height="40" class="img-responsive" src="/IMG/Main/logo.png" />
        </a>
    </div>
    <div class="pull-right register">
        <a class="center-block pull-left log" href="/Home/Login">登录</a>
        <a class="center-block pull-left reg" href="/Home/Register">注册</a>
        <img class="img-responsive width30 pull-left" src="/IMG/Main/zh_cn.png" />
    </div>

    <div style="clear: both"></div>
</div>
<style>
    #header-top { display: none; }
    .fontwidth { font-weight: bold; }
</style>
<div class="bg-info header-logo">
    <div class="pull-left register">
        <a href="/">
            <span class="glyphicon glyphicon-home fontsize"></span>
        </a>
    </div>
    <div style="clear:both"></div>
</div>
<div class="bg-info header-logo text-center fontwidth">欢迎注册</div>
<div style="padding:10px 0px;"></div>
<form id="defaultForm" method="post" class="form-horizontal" action="/Home/Register_U">
    <div class="container">
        <div class="form-group" style="display:none">
            <div class="input-group">
                <span class="input-group-addon form_span">介 绍 人</span>
                <input readonly="readonly" type="text" class="form-control input-lg" name="Intr">
            </div>
        </div>

        <div class="form-group">
            <div class="input-group">
                <span class="input-group-addon form_span">会员账号</span>
                <input type="text" class="form-control input-lg" maxlength="11" name="username" placeholder="请输入账号">
            </div>
        </div>
        <div class="form-group">
            <div class="input-group">
                <span class="input-group-addon form_span">密　　码</span>
                <input type="password" class="form-control input-lg" name="password" placeholder="请输入密码">
            </div>
        </div>
        <div class="form-group">
            <div class="input-group">
                <span class="input-group-addon form_span">确认密码</span>
                <input type="password" class="form-control input-lg" name="comfirmpassword" placeholder="请输入密码">
            </div>
        </div>
        <div class="form-group">
            <div class="input-group">
                <span class="input-group-addon form_span">真实姓名</span>
                <input type="text" class="form-control input-lg" name="real_name" placeholder="请输入名字">
            </div>
        </div>
        <div class="form-group">
            <div class="input-group">
                <span class="input-group-addon form_span">取款密码</span>
                <input type="text" class="form-control input-lg" name="outpass" placeholder="请输入取款密码">
            </div>
        </div>







        <div class="checkbox" style="padding-bottom:15px;">
            <label>
                <input type="checkbox" checked="checked" name="agree">我已届满合法博彩年龄﹐且同意各项开户条约。
            </label>
            <a href="/Home/Agreement">
                开户协议
            </a>
        </div>
        <div class="form-group text-center">
            <button type="submit" class="btn-info btn btn-lg">确　认</button>
            <button type="reset" class="btn-info btn btn-lg">重　置</button>
        </div>
    </div>
</form>
<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <img class="center-block linecentermodel" width="40" height="40" src="/IMG/load.gif" />
</div>
<script src="/Scripts/formValidation.min.js"></script>
<script src="/Scripts/fm_bootstrap.js"></script>
<script>
    $(function () {
        usernameBlur();
        $("#defaultForm").formValidation({
            message: '数据无效',
            //icon: {
            //    valid: 'glyphicon glyphicon-ok',
            //    invalid: 'glyphicon glyphicon-remove',
            //    validating: 'glyphicon glyphicon-refresh'
            //},
            fields: {
                username: {
                    message: '无效账号！',
                    validators: {
                        notEmpty: {
                            message: '账号不能为空！'
                        },
                        stringLength: {
                            min: 4,
                            max: 12,
                            message: '账号长度是4-12位！'
                        },
                        regexp: {
                            regexp: /^[a-zA-Z0-9]+$/,
                            message: '账号只能包含字母和数字！'
                        }
                        //, callback: {
                        //callback: function (value, validator, $field) {
                        //    var param = $.param({ 'ajax': 'checkdata_moblie', 'username': value });
                        //    var res = "";
                        //    $.ajax({
                        //        url: '/app/check_user.ashx',
                        //        data: param,
                        //        async: false,
                        //        success: function (data) {
                        //            res = data;
                        //        }
                        //    });
                        //    if (res == "1") {
                        //        return {
                        //            valid: true,    // or false
                        //            message: '账号可以用'
                        //        }
                        //    }
                        //    else {
                        //        return {
                        //            valid: false,    // or false
                        //            message: '账号已经存在'
                        //        }
                        //    }
                        //}
                        // }
                    }
                },
                password: {
                    validators: {
                        notEmpty: {
                            message: '密码不能为空！'
                        },
                        stringLength: {
                            min: 6,
                            max: 12,
                            message: '密码长度6-12位'
                        },
                        identical: {
                            field: 'comfirmpassword',
                            message: '密码前后不一致！'
                        }
                    }
                },
                comfirmpassword: {
                    validators: {
                        notEmpty: {
                            message: '确认密码不能为空！'
                        }
                    }
                },
                real_name: {
                    validators: {
                        notEmpty: {
                            message: '名字不能为空！'
                        },
                        regexp: {
                            regexp: /^[\u4e00-\u9fa5]+$/,
                            message: '只支持中文名'
                        }
                        //,callback: {
                        //    callback: function (value, validator, $field) {
                        //        var param = $.param({ 'ajax': 'checkdata_moblie', 'real_name': value });
                        //        var res = "";
                        //        $.ajax({
                        //            url: '/app/check_user.ashx',
                        //            data: param,
                        //            async: false,
                        //            success: function (data) {
                        //                res = data;
                        //            }
                        //        });
                        //        if (res == "1") {
                        //            return {
                        //                valid: true,    // or false
                        //                message: '名字可以用'
                        //            }
                        //        }
                        //        else {
                        //            return {
                        //                valid: false,    // or false
                        //                message: '名字已经存在'
                        //            }
                        //        }
                        //    }
                        //}
                    }
                },
                outpass: {
                    validators: {
                        notEmpty: {
                            message: '请输入取款密码'
                        },
                        regexp: {
                            regexp: /^[0-9]+$/,
                            message: '只支持数字'
                        },
                        stringLength: {
                            min: 4,
                            max: 4,
                            message: '取款密码是4位数字'
                        }
                    }
                },
                tel: {
                    validators: {
                        notEmpty: {
                            message: '请输入手机号'
                        },
                        regexp: {
                            regexp: /^[1][3-8]\d{9}$/,
                            message: '手机格式错误'
                        }
                    }
                },
                qq_num: {
                    validators: {
                        notEmpty: {
                            message: '请输入QQ号'
                        },
                        regexp: {
                            regexp: /^[0-9]+$/,
                            message: '只支持数字'
                        }
                    }
                },
                email: {
                    validators: {
                        notEmpty: {
                            message: '请输入邮箱'
                        },
                        regexp: {
                            regexp: /^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/,
                            message: '邮箱格式错误'
                        }
                    }
                }
            }
        })
                .on('success.form.fv', function (e) {
                    // Prevent form submission
                    e.preventDefault();

                    // Get the form instance
                    var $form = $(e.target);

                    // Get the FormValidation instance
                    var bv = $form.data('formValidation');

                    $('#myModal').modal('show');
                    // Use Ajax to submit form data
                    $.post($form.attr('action'), $form.serialize(), function (result) {
                        $('#myModal').modal('hide');
                        var data = eval("(" + result + ")");
                        if (data.state == "success") {
                            Modal.alert({ msg: data.msg }).on(function () {
                                location.href = "/Home/Index?UID=" + data.UID;
                            });
                        } else {
                            Modal.alert({ msg: data.msg });
                        }
                    }, 'text');
                });
    });

    function usernameBlur() {
        $("input[name=username]").blur(function () {
            if ($("input[name=username]").val() != '') {
                var param = $.param({ 'ajax': 'checkdata_moblie', 'username': $("input[name=username]").val() });
                var res = "";
                $.ajax({
                    url: '/app/check_user.ashx',
                    data: param,
                    async: false,
                    success: function (data) {
                        res = data;
                    }
                });
                if (res != "1") {
                    Modal.alert({ msg: '账号已经存在！' }).on(function () {
                        $("input[name=username]").focus();
                    });
                }
            }
        });

        $("input[name=real_name]").blur(function () {
            if ($("input[name=real_name]").val() != '') {
                var param = $.param({ 'ajax': 'checkdata_moblie', 'real_name': $("input[name=real_name]").val() });
                var res = "";
                $.ajax({
                    url: '/app/check_user.ashx',
                    data: param,
                    async: false,
                    success: function (data) {
                        res = data;
                    }
                });
                if (res != "1") {
                    Modal.alert({ msg: '名字已经存在！' }).on(function () {
                        $("input[name=username]").focus();
                    });
                }
            }
        });
    }
    function getKey() {
        $("#vPic").attr("src", "/app/mkcode.ashx?type=" + new Date());
        $("#vPic").show();
    }
</script>

<div class="text-center footercontent">
    Copyright &copy; BLB体育 Reserved
</div>
<script src="/Scripts/bootstrap.min.js"></script>


<script src="/Scripts/bootstrap_alert.js"></script>
<!-- system modal start弹窗html -->
<div id="ycf-alert" class="modal">
    <div class="modal-dialog modal-sm linecentermodel" style="width: 300px; height: 108px;">
        <div class="modal-content">
            <div class="modal-body bg-info" style="border-radius: 5px; padding: 10px;">
                <p style="font-size: 15px; font-weight: bold;">[Message]</p>
            </div>
            <div class="modal-footer" style="padding: 5px; text-align: center;">
                <button type="button" class="btn btn-primary ok" data-dismiss="modal">[BtnOk]</button>
                <button type="button" class="btn btn-default cancel" data-dismiss="modal">[BtnCancel]</button>
            </div>
        </div>
    </div>
</div>
<!-- system modal end弹窗html -->

<script>
    $(function () {
        var s = "";
        if (s != "")
            setTimeOut();
    });
    function logoutUser() {
        Modal.confirm({ msg: "确定是退出？" }).on(function (e) {
            if (e) {
                location.href = "/app/logout.ashx";
            }
        });
    }

    var timeoutID;
    function setTimeOut() {
        clearTimeout(timeoutID);
        $.ajax({
            url: "/ajax/refresh?UID=&t=" + new Date(),
            success: function (da) {

            }
        })
        timeoutID = setTimeout("setTimeOut()", 5 * 60 * 1000)
    }
</script>


</body>
</html>